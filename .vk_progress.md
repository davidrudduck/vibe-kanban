# Bloat Removal Progress

**Plan file**: `/home/david/.claude/plans/dazzling-swinging-moore.md`
**Branch**: `dr/9484-bloat-removal`
**Status**: needs-review

## Session 1: Remove `react-window` (Unused Dependency) - COMPLETE

### Goal
Remove the unused `react-window` dependency from the frontend.

### Status: Completed

### Completed Items
- [x] Verified `react-window` is not used in codebase (only a comment reference in `logs.ts`)
- [x] Removed `react-window` dependency from `frontend/package.json`
- [x] Removed `@types/react-window` dependency from `frontend/package.json`
- [x] Updated comment in `frontend/src/types/logs.ts` to remove react-window reference
- [x] Ran `pnpm install` to update lockfile
- [x] Build passed successfully (`pnpm run build`)
- [x] Lint passed (255 pre-existing i18n warnings, no new issues)
- [x] TypeScript check passed (`npx tsc --noEmit`)
- [x] Browser testing completed:
  - Desktop view: working
  - Tablet view (768x1024): working
  - Mobile view (375x812): working
  - Dark mode: working
  - No react-window related console errors

### Files Modified
1. `frontend/package.json` - Removed 2 dependencies:
   - `"react-window": "^1.8.11"`
   - `"@types/react-window": "^1.8.8"`
2. `frontend/src/types/logs.ts` - Updated comment (removed "react-window key" reference)
3. `pnpm-lock.yaml` - Auto-updated

---

## Session 2: Remove Discord Link - COMPLETE

### Goal
Remove the Discord link from the navbar and all related configuration.

### Status: Completed

### Completed Items
- [x] Verified `useDiscordOnlineCount.ts` was already deleted (from previous session)
- [x] Removed Discord entry from `EXTERNAL_LINKS` array in `Navbar.tsx`
- [x] Removed unused `MessageCircle` import from `Navbar.tsx`
- [x] Build passed successfully (`pnpm run build`)
- [x] Lint passed (255 pre-existing i18n warnings, no new issues)
- [x] Backend tests passed (329 tests)
- [x] Browser testing completed:
  - Desktop view (1280x800): working, no Discord link in menu
  - Tablet view (768x1024): working, no Discord link in menu
  - Mobile view (375x812): working, no Discord link in menu
  - Dark mode: working, no Discord link in menu
  - No console errors

### Files Modified
1. `frontend/src/components/layout/Navbar.tsx`:
   - Removed `MessageCircle` from lucide-react imports
   - Removed Discord entry from `EXTERNAL_LINKS` array

### Notes
- The `useDiscordOnlineCount.ts` hook file was already deleted in a previous session
- The `hide_discord_link` setting was already removed from `DevBannerConfig` in `v8.rs`
- No Discord translation keys were found in i18n files (only English settings.json was checked, others didn't have Discord keys)

---

## Remaining Work (Future Sessions)

| Session | Focus | Status |
|---------|-------|--------|
| 1 | Remove react-window | **Completed** |
| 2 | Remove Discord Link | **Completed** |
| 3 | Remove Showcase/Onboarding Videos | Pending |
| 4 | Remove PostHog Analytics (Frontend) | Pending |
| 5 | Remove PostHog Analytics (Backend) | Pending |
| 6 | Remove Sentry (Frontend) | Pending |
| 7 | Remove Sentry (Backend) | Pending |
| 8 | Final Verification & Cleanup | Pending |

### Next Session Recommendations
- Continue with Session 3: Remove Showcase/Onboarding Videos
- This involves removing showcase components and video embedding functionality

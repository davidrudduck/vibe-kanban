---
name: Replace window.confirm in SystemSettings
status: open
created: 2026-01-16T04:56:56Z
updated: 2026-01-16T04:56:56Z
depends_on: []
conflicts_with: [004, 006, 007]
---

# Task: Replace window.confirm in SystemSettings

## Description
Replace native window.confirm() calls with ConfirmDialog component for better UX in SystemSettings.tsx, and add VACUUM button cooldown.

## Acceptance Criteria
- [ ] ConfirmDialog imported from components/dialogs
- [ ] Cooldown state added for VACUUM (5 minutes)
- [ ] handlePurgeArchived converted to async with ConfirmDialog
- [ ] handlePurgeLogs converted to async with ConfirmDialog
- [ ] Optimize button disabled when cooldown active
- [ ] onVacuumSuccess callback updates cooldown timestamp

## Technical Details
- File: frontend/src/pages/settings/SystemSettings.tsx
- Import ConfirmDialog component
- Add state: `lastVacuumTime` and `canVacuum` computed value
- Use `ConfirmDialog.show()` with destructive variant
- Update button disabled prop to check cooldown

## Dependencies
- None

## Effort Estimate
- Size: S
- Hours: 0.5

## Definition of Done
- [ ] All window.confirm replaced
- [ ] Cooldown implemented
- [ ] TypeScript compilation passes
- [ ] Dialogs work in browser
- [ ] Changes committed

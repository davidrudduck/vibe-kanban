---
name: Write failing tests for retry button in TemplatePicker
status: open
created: 2026-01-11T10:25:38Z
updated: 2026-01-11T10:25:38Z
depends_on: [005]
conflicts_with: [007, 008]
---

# Task: Write failing tests for retry button in TemplatePicker

## Description
Following TDD principles, write failing tests for the retry button functionality in TemplatePicker before implementing the feature.

## Acceptance Criteria
- [ ] Test: retry button shows when error and onRetry provided
- [ ] Test: onRetry callback is called when button clicked
- [ ] Test: retry button hidden when no error
- [ ] Tests initially fail (red phase of TDD)

## Technical Details
- File: `frontend/src/components/tasks/__tests__/TemplatePicker.test.tsx`
- Create new describe block 'Retry Button'
- Use vitest and @testing-library/react

```typescript
describe('Retry Button', () => {
  it('shows retry button when error and onRetry provided', () => {
    const onRetry = vi.fn();
    render(<TemplatePicker {...baseProps} error="Failed" onRetry={onRetry} />);
    expect(screen.getByRole('button', { name: /retry/i })).toBeInTheDocument();
  });

  it('calls onRetry when retry button clicked', () => {
    const onRetry = vi.fn();
    render(<TemplatePicker {...baseProps} error="Failed" onRetry={onRetry} />);
    fireEvent.click(screen.getByRole('button', { name: /retry/i }));
    expect(onRetry).toHaveBeenCalledTimes(1);
  });

  it('hides retry button when no error', () => {
    render(<TemplatePicker {...baseProps} />);
    expect(screen.queryByRole('button', { name: /retry/i })).not.toBeInTheDocument();
  });
});
```

## Dependencies
- [ ] i18n keys must be added (task 005)

## Effort Estimate
- Size: S
- Hours: 0.5

## Definition of Done
- [ ] Tests written
- [ ] Tests fail as expected (TDD red phase)

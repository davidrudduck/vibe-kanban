---
name: Write template picker integration tests
status: open
created: 2026-01-11T10:25:38Z
updated: 2026-01-11T10:25:38Z
depends_on: [015]
conflicts_with: [014]
---

# Task: Write template picker integration tests

## Description
Write behavioral tests for TaskFormSheet that verify template picker integration, including button clicks, loading states, and error handling.

## Acceptance Criteria
- [ ] Test: Insert Template button opens template picker
- [ ] Test: Loading state shows spinner
- [ ] Test: Error state shows retry button

## Technical Details
- File: `frontend/src/components/dialogs/tasks/__tests__/TaskFormSheet.test.tsx`
- Add to existing describe block:

```typescript
describe('Template Picker Integration', () => {
  it('opens template picker when Insert Template button is clicked', async () => {
    const { TaskFormSheetImpl } = await import('../TaskFormSheet');
    render(<TaskFormSheetImpl mode="create" projectId="test-123" />);
    const insertBtn = screen.getByRole('button', { name: /insert template/i });
    fireEvent.click(insertBtn);
    await waitFor(() => {
      expect(screen.getByText('Insert Template')).toBeInTheDocument();
    });
  });
});
```

## Dependencies
- [ ] Desktop modal tests written (task 015)

## Effort Estimate
- Size: M
- Hours: 1

## Definition of Done
- [ ] Tests written
- [ ] Tests pass

---
name: Add unlink mutation to useProjectMutations
status: completed
created: 2026-01-12T09:52:07Z
updated: 2026-01-13T21:38:00Z
depends_on: [008, 009]
conflicts_with: []
---

# Task: Add unlink mutation to useProjectMutations

## Description
Add unlink-from-swarm mutation to the existing `useProjectMutations` hook.

## Acceptance Criteria
- [x] Add API method `unlinkFromSwarm(projectId: string, data: UnlinkSwarmRequest)` to `frontend/src/lib/api/projects.ts`
- [x] Add mutation to `frontend/src/hooks/useProjectMutations.ts`
- [x] Mutation invalidates project and sync-health queries on success
- [x] Supports `onUnlinkSuccess` and `onUnlinkError` callbacks

## Technical Details
- Endpoint: `POST /api/projects/:id/unlink-swarm`
- Follow existing mutation patterns in the hook
- Invalidate queries: `['project', projectId]`, `['project', projectId, 'sync-health']`

## Dependencies
- [ ] Task 008 (TypeScript types)
- [ ] Task 009 (backend endpoint)

## Effort Estimate
- Size: S
- Hours: 0.5

## Definition of Done
- [ ] API method added
- [ ] Mutation added to hook
- [ ] TypeScript compiles
- [ ] Mutation tested with backend
